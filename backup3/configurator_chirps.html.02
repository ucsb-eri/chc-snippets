<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Config CHIRPS</title>
    <link rel="stylesheet" href="configurator.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.css"/>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Cantarell"/>
    <link rel="stylesheet" href="fonts/webfontkit-20160329-183933/stylesheet.css" type="text/css" charset="utf-8"/>
    <script type="text/javascript" src="ewxmap_g5.js"></script>
  </head>
  <body>
    <div class="center">
      <div>
        <div style="float: left;">
          <div style="width: 590px;">
            <h1>CHIRPS Snippet Configurator</h1>
            <p>
            </p>
      <div class="clear-float"></div>
      <hr/>

    <p> Select Periodicity:
        <select id="periodicity">
          <option value="1-month">Monthly</option>
          <option value="1-pentad">Pentadal</option>
          <option value="dekad">Dekadal</option>
          <option value="2-month">2-Monthly</option>
          <option value="3-month">3-Monthly</option>
        </select>
    </p>

    <p> Select Statistic:
        <select id="statistic">
            <option value="data">Data</option>
            <option value="anom">Anomaly</option>
            <option value="zscore">Z-score</option>
        </select>
    </p>

    <form>
      <label  for="width">Width:</label><br>
      <input type="text" id="width" name="width" value="500"><br>
    </form>
    <br>

    <form>
      <label for="height">Height:</label><br>
      <input type="text" id="height" name="height" value="500">
    </form>
    <br>

    <form>
      <label for="zoom">zoom:</label><br>
      <input type="text" id="zoom" name="zoom" value="6.0">
    </form>
    <br>

    <form>
      <label for="longitude">Center longitude:</label><br>
      <input type="text" id="longitude" name="longitude" value="29.15">
    </form>
    <br>

    <form>
      <label for="latitude">Center latitude:</label><br>
      <input type="text" id="latitude" name="latitude" value="-19.0">
    </form>

    <br>
    <br>
    <button onclick="getOptions()"> Create Configuration </button>
    <br>


<br>
<A HREF="/working/snip_chirps_monthly_data.html" onClick="return popup(this, 'notes')">View Snippet</A>
<br>
<br>

<button onclick="location.href='https://snippets.chc.ucsb.edu/working/snip_chirps_monthly_data.html';">View Snippet></button>
<!-- <button onclick="displaySnippet()">View Snippet></button>-->

<p id="demo"></p>

<br>
<script>
  function displaySnippet() {
  document.getElementById("demo").innerHTML = 'https://snippets.chc.ucsb.edu/working/snip_chirps_monthly_data.html';
}
</script>

<script>
  const fs = require('fs');
  let txt = "";

  function displaySnippet() {
    document.getElementById("demo").innerHTML = 'https://snippets.chc.ucsb.edu/working/snip_chirps_monthly_data.html';
    document.getElementById("demo").innerHTML = 'https://snippets.chc.ucsb.edu/working/snip_chirps_monthly_data.html';
  }

  function getOptions() {
    element = document.querySelector('#periodicity');
    periodicity = element.value;

    element = document.querySelector('#statistic');
    statistic = element.value;
	
    element = document.querySelector('#width');
    width = element.value;
	
    element = document.querySelector('#height');
    height = element.value;
	
    element = document.querySelector('#zoom');
    zoom = element.value;
	
    element = document.querySelector('#latitude');
    latitude = element.value;
	
    element = document.querySelector('#longitude');
    longitude = element.value;
	
    txt = "&lt!DOCTYPE html&gt" + "<br>";
    txt += "&lthtml&gt" + "<br><br>";
    txt += "&nbsp;&nbsp;&lthead&gt" + "<br>";
    txt += '&nbsp;&nbsp;&nbsp;&nbsp;&lttitle&gtTest3&lt/title&gt' + "<br>";
    txt += "&nbsp;&nbsp;&lt/head&gt" + "<br><br>";
    txt += "&ltbody&gt" + "<br><br>";
    txt += '&nbsp;&nbsp;&ltscript src="https://snippets.chc.ucsb.edu/ewxmapG5.js"&gt&lt/script&gt' + "<br>";
    txt += '&nbsp;&nbsp;&ltdiv id="snippet-m08f05L58"&gt&lt/div&gt' + "<br>";
    txt += "<br>";
    txt += '&nbsp;&nbsp;&ltscript type="text/javascript"&gt' + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;new EwxMapG5({" + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ewxUrl: 'https://ewx3.chc.ucsb.edu/ewx', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id: 'snippet-m08f05L58', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset: 'CHIRPS', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subDataset: 'chirps', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;region: 'global', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;periodicity: '" + periodicity + "', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;period: 'latest', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forecastPeriod: 'none', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showDekadControl: true, " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showYearControl: true, " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;units: 'mm', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;statistic: '" + statistic + "', " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width: " + width + ", " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height: " + height + ", " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zoom: " + zoom + ", " + "<br>";
    txt += "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;center: [" + latitude + ", " + longitude + "]," + "<br>";
    txt += "&nbsp;&nbsp;});" + "<br>";
    txt += "&nbsp;&nbsp;&lt/script&gt" + "<br>";
    txt += "<br>";
    txt += "&lt/body&gt" + "<br>";
    txt += "&lt/html&gt" + "<br>";
    txt += "<br>";
    txt += "<br>";


    document.getElementById("demo").innerHTML = txt;

    fs.writeFileSync("results.txt", txt)
  }


</script>

  </body>
</html>
